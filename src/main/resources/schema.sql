create table appliances (power integer not null, price numeric(38,2) not null, created_at timestamp(6) with time zone, id bigint generated by default as identity, last_updated_at timestamp(6) with time zone, manufacturer_id bigint, version bigint not null, model varchar(32) not null, name varchar(32) not null, characteristic varchar(255) not null, description varchar(255) not null, category enum ('BIG','SMALL') not null, power_type enum ('AC110','AC220','ACCUMULATOR') not null, primary key (id));
create table manufacturers (id bigint generated by default as identity, name varchar(32) not null, primary key (id));
create table order_line_items (price numeric(38,2), appliance_id bigint, quantity bigint, order_id bigint not null);
create table orders (client_id bigint, created_at timestamp(6) with time zone, employee_id bigint, id bigint generated by default as identity, state enum ('APPROVED','DISAPPROVED','WAITING_FOR_APPROVAL','WAITING_FOR_COMPLETION'), primary key (id));
create table users (locked boolean default false not null, id bigint generated by default as identity, card varchar(16), role varchar(31) not null, department varchar(32), email varchar(32) not null, name varchar(32) not null, password varchar(255) not null, primary key (id));
alter table if exists appliances add constraint FKd4cqldu3l7yobdbab55644hx2 foreign key (manufacturer_id) references manufacturers;
alter table if exists order_line_items add constraint FKf4b4skuk98ls93h9qfulp7eex foreign key (appliance_id) references appliances;
alter table if exists order_line_items add constraint FKdjnh2emxm9tt6mrpfabdvbs0c foreign key (order_id) references orders;
alter table if exists orders add constraint FKojjigrbyd7qrcwrxvr7e9bdr2 foreign key (client_id) references users on delete set null;
alter table if exists orders add constraint FKgd67qo7p9pvyabrt03jamvni5 foreign key (employee_id) references users on delete set null;